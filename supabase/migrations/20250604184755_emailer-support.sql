CREATE TABLE IF NOT EXISTS "public"."emails" (
    "id" bigint generated by default as identity not null,
    "created_at" timestamp with time zone not null default now(),
    "subject" text not null,
    "body" text not null,
    "class_id" bigint not null
);

CREATE TABLE IF NOT EXISTS "public"."email_recipients" (
    "id" bigint generated by default as identity not null,
    "created_at" timestamp with time zone not null default now(),
    "user" uuid not null,
    "email_id" bigint not null
);

ALTER TABLE "public"."emails" 
    ADD CONSTRAINT "emails_pkey" PRIMARY KEY ("id");

ALTER TABLE "public"."email_recipients" 
    ADD CONSTRAINT "email_recipients_item_pkey" PRIMARY KEY ("id");

ALTER TABLE "public"."emails" ENABLE ROW LEVEL SECURITY;

ALTER TABLE "public"."email_recipients" ENABLE ROW LEVEL SECURITY;
